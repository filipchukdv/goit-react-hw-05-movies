{"version":3,"file":"static/js/278.e69e0707.chunk.js","mappings":"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","sources":["api/index.js","webpack://react-homework-template/./src/components/GalleryItem/GalleryItem.module.css?5bd8","components/GalleryItem/GalleryItem.jsx","webpack://react-homework-template/./src/components/Gallery/Gallery.module.css?dbe6","components/Gallery/Gallery.jsx","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0Mjg4MTliMjUyOTAxOTkxMWIzMjg4MTRkYjI1MmQ4YSIsInN1YiI6IjY0NWI3NmVhNmFhOGUwMDE3MzgxYThlNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.u-ISzx_Hinkash-iFun779963DCpn6SaHRZhNpXKq9A';\n\nexport const fetchTrending = () => {\n  return axios.get('trending/movie/week').then(response => response.data);\n};\n\nexport const fetchQuery = query => {\n  return axios\n    .get('search/movie', {\n      params: {\n        query,\n      },\n    })\n    .then(response => response.data);\n};\n\nexport const fetchMovie = id => {\n  return axios.get(`movie/${id}`).then(response => response.data);\n};\n\nexport const fetchCredits = id => {\n  return axios.get(`movie/${id}/credits`).then(response => response.data);\n};\n\nexport const fetchReviews = id => {\n  return axios.get(`movie/${id}/reviews`).then(response => response.data);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"GalleryItem_item__fXYMR\",\"image\":\"GalleryItem_image__Im4oQ\",\"title\":\"GalleryItem_title__RDjbs\"};","import css from './GalleryItem.module.css';\nimport { Link, useLocation } from 'react-router-dom';\nimport moment from 'moment';\n\nconst GalleryItem = ({ title, src, id, date }) => {\n  const location = useLocation();\n\n  return (\n    <li className={css.item}>\n      <Link to={`/movies/${id}`} state={location}>\n        <img\n          loading=\"lazy\"\n          src={`https://image.tmdb.org/t/p/w500${src}`}\n          alt={`${title} poster`}\n          className={css.image}\n        ></img>\n        <p className={css.title}>{`${title} (${moment(date).format(\n          'YYYY'\n        )})`}</p>\n      </Link>\n    </li>\n  );\n};\n\nexport default GalleryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Gallery_list__QACVh\"};","import { useEffect, useState } from 'react';\nimport GalleryItem from '../GalleryItem/GalleryItem';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ fetchFunc, value }) => {\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetchFunc(value || '');\n      console.log('fetch');\n      setResults(response.results);\n    }\n    fetchData();\n  }, [fetchFunc, value]);\n  return (\n    <section>\n      <ul className={css.list}>\n        {results.map(({ id, title, poster_path, release_date }) => (\n          <GalleryItem\n            key={id}\n            title={title}\n            src={poster_path}\n            id={id}\n            date={release_date}\n          />\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default Gallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"SearchBar_SearchForm__J+i1a\",\"SearchFormButton\":\"SearchBar_SearchFormButton__J-w2N\",\"SearchFormButton-label\":\"SearchBar_SearchFormButton-label__4JEc-\",\"SearchFormInput\":\"SearchBar_SearchFormInput__4T9IM\"};","import css from './SearchBar.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { useRef } from 'react';\nimport { useEffect } from 'react';\n\nconst Searchbar = ({ setQuery }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const input = useRef();\n  const queryValue = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    input.current.value = queryValue;\n    setQuery(queryValue);\n  }, [queryValue, setQuery]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const query = e.target.elements.query.value;\n    const queryNolmalized = query === '' ? {} : { query };\n    setSearchParams(queryNolmalized);\n    setQuery(queryValue);\n  };\n  return (\n    <form className={css.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={css.SearchFormButton}></button>\n\n      <input\n        className={css.SearchFormInput}\n        type=\"text\"\n        name=\"query\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movie\"\n        ref={input}\n      />\n    </form>\n  );\n};\n\nexport default Searchbar;\n","import { fetchQuery } from 'api';\nimport { useState } from 'react';\nimport Gallery from '../../components/Gallery/Gallery';\n\nconst { default: Searchbar } = require('components/SearchBar/SearchBar');\n\nconst Movies = () => {\n  const [query, setQuery] = useState();\n\n  return (\n    <>\n      <Searchbar setQuery={setQuery} />\n      {query && <Gallery fetchFunc={fetchQuery} value={query} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["axios","fetchTrending","then","response","data","fetchQuery","query","params","fetchMovie","id","fetchCredits","fetchReviews","title","src","date","location","useLocation","className","css","to","state","loading","alt","moment","format","fetchFunc","value","useState","results","setResults","useEffect","console","log","fetchData","map","poster_path","release_date","setQuery","useSearchParams","searchParams","setSearchParams","input","useRef","queryValue","get","current","onSubmit","e","preventDefault","target","elements","type","name","autoComplete","autoFocus","placeholder","ref","Searchbar","require","default"],"sourceRoot":""}