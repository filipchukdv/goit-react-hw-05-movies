"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[809],{396:function(t,e,n){n.r(e),n.d(e,{fetchCredits:function(){return u},fetchMovie:function(){return i},fetchQuery:function(){return a},fetchReviews:function(){return o},fetchTrending:function(){return c}});var r=n(243);r.Z.defaults.baseURL="https://api.themoviedb.org/3/",r.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0Mjg4MTliMjUyOTAxOTkxMWIzMjg4MTRkYjI1MmQ4YSIsInN1YiI6IjY0NWI3NmVhNmFhOGUwMDE3MzgxYThlNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.u-ISzx_Hinkash-iFun779963DCpn6SaHRZhNpXKq9A";var c=function(){return r.Z.get("trending/movie/week").then((function(t){return t.data}))},a=function(t){return r.Z.get("search/movie",{params:{query:t}}).then((function(t){return t.data}))},i=function(t){return r.Z.get("movie/".concat(t)).then((function(t){return t.data}))},u=function(t){return r.Z.get("movie/".concat(t,"/credits")).then((function(t){return t.data}))},o=function(t){return r.Z.get("movie/".concat(t,"/reviews")).then((function(t){return t.data}))}},196:function(t,e,n){n.d(e,{Z:function(){return I}});var r=n(861),c=n(439),a=n(757),i=n.n(a),u=n(791),o="GalleryItem_item__fXYMR",s="GalleryItem_image__Im4oQ",f="GalleryItem_title__RDjbs",h=n(689),l=n(87),d=n(426),m=n.n(d),p=n(184),g=function(t){var e=t.title,n=t.src,r=t.id,c=t.date,a=(0,h.TH)();return(0,p.jsx)("li",{className:o,children:(0,p.jsxs)(l.rU,{to:"/movies/".concat(r),state:a,children:[(0,p.jsx)("img",{loading:"lazy",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"".concat(e," poster"),className:s}),(0,p.jsx)("p",{className:f,children:"".concat(e," (").concat(m()(c).format("YYYY"),")")})]})})},v="Gallery_list__QACVh",I=function(t){var e=t.fetchFunc,n=t.value,a=(0,u.useState)([]),o=(0,c.Z)(a,2),s=o[0],f=o[1];return(0,u.useEffect)((function(){function t(){return(t=(0,r.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n||"");case 2:r=t.sent,console.log("fetch"),f(r.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n]),(0,p.jsx)("section",{children:(0,p.jsx)("ul",{className:v,children:s.map((function(t){var e=t.id,n=t.title,r=t.poster_path,c=t.release_date;return(0,p.jsx)(g,{title:n,src:r,id:e,date:c},e)}))})})}},809:function(t,e,n){n.r(e);var r=n(396),c=n(196),a=n(184);e.default=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Trending today"}),(0,a.jsx)(c.Z,{fetchFunc:r.fetchTrending})]})}}}]);
//# sourceMappingURL=809.15164c41.chunk.js.map